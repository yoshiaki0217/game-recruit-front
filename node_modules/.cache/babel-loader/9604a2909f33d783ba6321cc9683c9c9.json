{"ast":null,"code":"import _taggedTemplateLiteral from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/usr/src/app/src/pages/GroupCreate.jsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2;\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport styled from \"styled-components\";\nimport { PrimaryButton, InputText, Footer, HeaderBackButton } from '../components/index';\nimport DefaultIcon from '../images/default-icon.png';\nimport Joi from 'joi-browser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar GroupCreate = function GroupCreate(props) {\n  _s();\n\n  var loginedUserId = Number(localStorage.getItem('userId'));\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      gameStyles = _useState2[0],\n      setGameStyles = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      gameNames = _useState4[0],\n      setGameNames = _useState4[1];\n\n  var _useState5 = useState(DefaultIcon),\n      _useState6 = _slicedToArray(_useState5, 2),\n      thumbnail = _useState6[0],\n      setThumbnail = _useState6[1];\n\n  var history = useHistory();\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorMessages = _useState8[0],\n      setValidationMessages = _useState8[1];\n\n  var _useState9 = useState({\n    'group_name': '',\n    'leader_id': loginedUserId,\n    'icon': '',\n    'style_id': '',\n    'game_id': '',\n    'recruitment': '',\n    'description': ''\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      formData = _useState10[0],\n      setFormData = _useState10[1];\n\n  useEffect(function () {\n    var unmounted = false;\n\n    if (!unmounted) {\n      getGameStyle();\n      getGameNames();\n      unmounted = true;\n    }\n  }, []);\n\n  var getGameStyle = function getGameStyle() {\n    var url = process.env.REACT_APP_BACKEND_PATH;\n    axios.get(url + '/api/game/styles').then(function (res) {\n      setGameStyles(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var getGameNames = function getGameNames() {\n    var url = process.env.REACT_APP_BACKEND_PATH;\n    axios.get(url + '/api/game/names').then(function (res) {\n      setGameNames(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var schema = Joi.object({\n    leader_id: Joi.number().required(),\n    group_name: Joi.string().max(256).required().error(function (errors) {\n      errors.forEach(function (err) {\n        switch (err.type) {\n          case \"any.empty\":\n            err.message = \"＊グループ名は必須です\";\n            break;\n\n          case \"string.max\":\n            err.message = \"\\uFF0A\\u30B0\\u30EB\\u30FC\\u30D7\\u540D\\u306F\".concat(err.context.limit, \"\\u6587\\u5B57\\u4EE5\\u5185\\u3067\\u8A2D\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\");\n            break;\n\n          default:\n            break;\n        }\n      });\n      return new Error(errors);\n    }),\n    icon: Joi,\n    game_id: Joi.number().required().error(function (errors) {\n      errors.forEach(function (err) {\n        switch (err.type) {\n          case \"any.empty\":\n            err.message = \"＊ゲーム名は必須です\";\n            break;\n\n          case \"number.base\":\n            err.message = \"\\uFF0A\\u30B2\\u30FC\\u30E0\\u306F\\u9078\\u629E\\u80A2\\u304B\\u3089\\u9078\\u3093\\u3067\\u304F\\u3060\\u3055\\u3044\";\n            break;\n\n          default:\n            break;\n        }\n      });\n      return new Error(errors);\n    }),\n    style_id: Joi.number().required().error(function (errors) {\n      errors.forEach(function (err) {\n        switch (err.type) {\n          case \"any.empty\":\n            err.message = \"＊スタイルは必須です\";\n            break;\n\n          case \"number.base\":\n            err.message = \"\\uFF0A\\u30B9\\u30BF\\u30A4\\u30EB\\u306F\\u9078\\u629E\\u80A2\\u304B\\u3089\\u9078\\u3093\\u3067\\u304F\\u3060\\u3055\\u3044\";\n            break;\n\n          default:\n            break;\n        }\n      });\n      return new Error(errors);\n    }),\n    recruitment: Joi.number().required().error(function (errors) {\n      errors.forEach(function (err) {\n        switch (err.type) {\n          case \"any.empty\":\n            err.message = \"＊募集人数は必須です\";\n            break;\n\n          case \"number.base\":\n            err.message = \"\\uFF0A\\u52DF\\u96C6\\u4EBA\\u6570\\u306F\\u6570\\u5B57\\u3092\\u6307\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\";\n            break;\n\n          default:\n            break;\n        }\n      });\n      return new Error(errors);\n    }),\n    description: Joi.string().required().error(function (errors) {\n      errors.forEach(function (err) {\n        switch (err.type) {\n          case \"any.empty\":\n            err.message = \"＊詳細は必須です\";\n            break;\n\n          default:\n            break;\n        }\n      });\n      return new Error(errors);\n    })\n  });\n\n  var onChangeEvent = function onChangeEvent(e) {\n    var name = e.target.name;\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, name, e.target.value)));\n  };\n\n  var onClickCreateGroupData = function onClickCreateGroupData() {\n    var url = process.env.REACT_APP_BACKEND_PATH;\n    var formDatas = new FormData();\n    var validationCheckFlag = false; // バリデーション実行\n\n    var _schema$validate = schema.validate(formData, {\n      abortEarly: false\n    }),\n        error = _schema$validate.error;\n\n    if (error) {\n      var messages = error.message.split(',');\n      setValidationMessages(messages);\n      return false;\n    } else {\n      validationCheckFlag = true;\n    }\n\n    formDatas.append(\"group_name\", formData.group_name);\n    formDatas.append(\"leader_id\", loginedUserId);\n    formDatas.append(\"icon\", formData.icon);\n    formDatas.append(\"recruitment\", formData.recruitment);\n    formDatas.append(\"description\", formData.description);\n    formDatas.append(\"style_id\", formData.style_id);\n    formDatas.append(\"game_id\", formData.game_id);\n    var config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n\n    if (validationCheckFlag) {\n      axios.post(url + '/api/group/create', formDatas, config).then(function (res) {\n        history.push('/home');\n      }).catch(function (error) {\n        // エラーメッセージの配列を用意\n        var messages = []; // レスポンスをオブジェクトから配列に変換\n\n        var arr = Object.entries(error.response.data.errors); // レスポンスの配列からメッセージだけを取り出し、エラーメッセージの配列にセット\n\n        arr.forEach(function (value) {\n          messages.push(value[1][0]);\n        }); // 表示用の配列にセット\n\n        setValidationMessages(messages);\n      });\n    }\n  };\n\n  var setImage = function setImage(e) {\n    var name = e.target.name;\n    var files = e.target;\n\n    if (files.files[0] !== undefined) {\n      var file = files.files[0];\n      var type = file.type;\n\n      if (type !== \"image/jpeg\" && type !== \"image/png\" && type !== \"image/webp\") {\n        alert(\"選択されたファイルはアップロードできません\");\n        return false;\n      }\n\n      setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, name, file)));\n\n      if (type.startsWith(\"image/\")) {\n        setThumbnail(window.URL.createObjectURL(file));\n      }\n    } else {\n      setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, name, '')));\n    }\n  };\n\n  var changeIcon = function changeIcon() {\n    var icon = document.getElementById('icon');\n    icon.click();\n  };\n\n  return /*#__PURE__*/_jsxDEV(GroupDetailWrap, {\n    className: \"h-screen bg-sub py-16\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderBackButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: errorMessages.length === 0 ? 'hidden' : 'bg-red-100 w-80 mx-auto p-1 mb-2',\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"mx-auto px-3 text-red-600\",\n        children: errorMessages.map(function (item, index) {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: item\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(PostItem, {\n      className: \"psot-item w-80 bg-white px-5 pb-2 pt-6 mb-10 m-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex mb-5 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-full\",\n            src: thumbnail,\n            alt: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u753B\\u50CF\",\n            onClick: changeIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 39\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            display: 'none'\n          },\n          name: \"icon\",\n          id: \"icon\",\n          type: \"file\",\n          onChange: setImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(InputText, {\n          type: \"text\",\n          name: \"group_name\",\n          styled: \"ml-4 w-7/10\",\n          placeholder: \"グループ名\",\n          onChange: onChangeEvent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"post-list-item\",\n        children: [\"\\u30B2\\u30FC\\u30E0\\u540D\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"game_id\",\n          className: \"w-7/10\",\n          onChange: onChangeEvent,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"\\u30B2\\u30FC\\u30E0\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, _this), gameNames.map(function (data, index) {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: data.id,\n              children: data.game_name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, _this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"post-list-item\",\n        children: [\"\\u30B9\\u30BF\\u30A4\\u30EB\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"style_id\",\n          className: \"w-7/10\",\n          onChange: onChangeEvent,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"\\u30B9\\u30BF\\u30A4\\u30EB\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, _this), gameStyles.map(function (data, index) {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: data.id,\n              children: data.style_name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, _this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"post-list-item\",\n        children: [\"\\u52DF\\u96C6\\u4EBA\\u6570\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"recruitment\",\n          className: \"w-7/10\",\n          onChange: onChangeEvent,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"\\u4EBA\\u6570\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"6\",\n            children: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"7\",\n            children: \"7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"8\",\n            children: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"9\",\n            children: \"9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"10\",\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"11\",\n            children: \"11\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"12\",\n            children: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"13\",\n            children: \"13\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"14\",\n            children: \"14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"15\",\n            children: \"15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u30B0\\u30EB\\u30FC\\u30D7\\u8A73\\u7D30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        style: {\n          overflow: 'auto',\n          resize: 'none'\n        },\n        cols: \"30\",\n        rows: \"13\",\n        className: \"post-detail\",\n        onChange: onChangeEvent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n        styles: \"bg-sub py-1 px-7 py-2 text-sm m-auto\",\n        onClick: onClickCreateGroupData,\n        children: \"\\u4F5C\\u6210\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(GroupCreate, \"oNdSatev9B6SvQSTflu+0yvLN38=\", false, function () {\n  return [useHistory];\n});\n\n_c = GroupCreate;\nvar GroupDetailWrap = styled.section(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  \\n\"])));\n_c2 = GroupDetailWrap;\nvar PostItem = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  .profile-logo img{\\n    width: 65px;\\n    height: 65px;\\n  }\\n  .firend-logo img{\\n    width: 40px;\\n    height: 40px;\\n  }\\n  .post-list-item{\\n    margin: 0 0 10px 0;\\n  }\\n  .post-list-item input{\\n    margin:0 0 0 10px;\\n  }\\n  .post-detail{\\n    width: 100%;\\n    margin: 0 0 18px 0;\\n    padding: 0 3px;\\n    border:solid 1px #000;\\n    overflow: hidden;\\n  }\\n  .primary-button{\\n    color:#fff;\\n  }\\n\"])));\n_c3 = PostItem;\nexport default GroupCreate;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GroupCreate\");\n$RefreshReg$(_c2, \"GroupDetailWrap\");\n$RefreshReg$(_c3, \"PostItem\");","map":{"version":3,"sources":["/usr/src/app/src/pages/GroupCreate.jsx"],"names":["useState","useEffect","axios","useHistory","styled","PrimaryButton","InputText","Footer","HeaderBackButton","DefaultIcon","Joi","GroupCreate","props","loginedUserId","Number","localStorage","getItem","gameStyles","setGameStyles","gameNames","setGameNames","thumbnail","setThumbnail","history","errorMessages","setValidationMessages","formData","setFormData","unmounted","getGameStyle","getGameNames","url","process","env","REACT_APP_BACKEND_PATH","get","then","res","data","results","catch","error","console","log","schema","object","leader_id","number","required","group_name","string","max","errors","forEach","err","type","message","context","limit","Error","icon","game_id","style_id","recruitment","description","onChangeEvent","e","name","target","value","onClickCreateGroupData","formDatas","FormData","validationCheckFlag","validate","abortEarly","messages","split","append","config","headers","post","push","arr","Object","entries","response","setImage","files","undefined","file","alert","startsWith","window","URL","createObjectURL","changeIcon","document","getElementById","click","length","map","item","index","display","id","game_name","style_name","overflow","resize","GroupDetailWrap","section","PostItem","div"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom';\nimport styled from \"styled-components\";\nimport {\n  PrimaryButton,\n  InputText,\n  Footer,\n  HeaderBackButton\n} from '../components/index'\nimport DefaultIcon from '../images/default-icon.png'\nimport Joi from 'joi-browser';\n\nconst GroupCreate = (props) => {\n  const loginedUserId = Number(localStorage.getItem('userId'));\n  const [gameStyles, setGameStyles] = useState([]);\n  const [gameNames, setGameNames] = useState([]);\n  const [thumbnail, setThumbnail] = useState(DefaultIcon);\n  const history = useHistory();\n  const [errorMessages, setValidationMessages] = useState([])\n  const [formData, setFormData] = useState({\n    'group_name' : '',\n    'leader_id' : loginedUserId,\n    'icon' : '',\n    'style_id' : '',\n    'game_id' : '',\n    'recruitment' : '',\n    'description' : '',\n  })\n\n  useEffect(() => {\n    let unmounted = false;\n    if(!unmounted) {\n      getGameStyle();\n      getGameNames();\n      unmounted = true\n    }\n  },[])\n\n  const getGameStyle = () => {\n    let url = process.env.REACT_APP_BACKEND_PATH;\n\n    axios.get(url + '/api/game/styles')\n    .then((res) => {\n      setGameStyles(res.data.results);\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }\n\n  const getGameNames = () => {\n    let url = process.env.REACT_APP_BACKEND_PATH;\n\n    axios.get(url + '/api/game/names')\n    .then((res) => {\n      setGameNames(res.data.results);\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }\n\n  const schema = Joi.object({\n    leader_id: Joi.number()\n      .required(),\n  \n    group_name: Joi.string()\n      .max(256)\n      .required()\n      .error(errors => {\n        errors.forEach(err => {\n          switch (err.type) {\n            case \"any.empty\":\n              err.message = \"＊グループ名は必須です\";\n              break;\n            case \"string.max\":\n              err.message = `＊グループ名は${err.context.limit}文字以内で設定してください`;\n              break;\n            default:\n              break;\n          }\n        });\n        return new Error(errors);\n      }),\n  \n    icon: Joi,\n  \n    game_id: Joi.number()\n      .required()\n      .error(errors => {\n        errors.forEach(err => {\n          switch (err.type) {\n            case \"any.empty\":\n              err.message = \"＊ゲーム名は必須です\";\n              break;\n            case \"number.base\":\n              err.message = `＊ゲームは選択肢から選んでください`;\n              break;\n            default:\n              break;\n          }\n        });\n        return new Error(errors);\n      }),\n    \n    style_id: Joi.number()\n      .required()\n      .error(errors => {\n        errors.forEach(err => {\n          switch (err.type) {\n            case \"any.empty\":\n              err.message = \"＊スタイルは必須です\";\n              break;\n            case \"number.base\":\n              err.message = `＊スタイルは選択肢から選んでください`;\n              break;\n            default:\n              break;\n          }\n        });\n        return new Error(errors);\n      }),\n  \n    recruitment: Joi.number()\n      .required()\n      .error(errors => {\n        errors.forEach(err => {\n          switch (err.type) {\n            case \"any.empty\":\n              err.message = \"＊募集人数は必須です\";\n              break;\n            case \"number.base\":\n              err.message = `＊募集人数は数字を指定してください`;\n              break;\n            default:\n              break;\n          }\n        });\n        return new Error(errors);\n      }),\n  \n    description: Joi.string()\n      .required()\n      .error(errors => {\n        errors.forEach(err => {\n          switch (err.type) {\n            case \"any.empty\":\n              err.message = \"＊詳細は必須です\";\n              break;\n            default:\n              break;\n          }\n        });\n        return new Error(errors);\n      }),\n  })\n  \n  const onChangeEvent = (e) => {\n    const name = e.target.name;\n    setFormData({\n      ...formData,\n      [name]: e.target.value\n    });\n  }\n\n  const onClickCreateGroupData = () => {\n    let url = process.env.REACT_APP_BACKEND_PATH;\n    let formDatas = new FormData();\n    let validationCheckFlag = false;\n\n    // バリデーション実行\n    const { error } = schema.validate(formData, {abortEarly: false});\n\n    if(error) {\n      let messages = error.message.split(',');\n      setValidationMessages(messages);\n      return false;\n    } else {\n      validationCheckFlag = true;\n    }\n\n    formDatas.append(\"group_name\", formData.group_name)\n    formDatas.append(\"leader_id\", loginedUserId)\n    formDatas.append(\"icon\", formData.icon)\n    formDatas.append(\"recruitment\", formData.recruitment)\n    formDatas.append(\"description\", formData.description)\n    formDatas.append(\"style_id\", formData.style_id)\n    formDatas.append(\"game_id\", formData.game_id)\n\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    }\n\n    if(validationCheckFlag) {\n      axios.post(url + '/api/group/create', formDatas, config)\n      .then((res) => {\n        history.push('/home');\n      })\n      .catch((error) => {\n        // エラーメッセージの配列を用意\n        let messages = [];\n        // レスポンスをオブジェクトから配列に変換\n        let arr = Object.entries(error.response.data.errors);\n        // レスポンスの配列からメッセージだけを取り出し、エラーメッセージの配列にセット\n        arr.forEach(function (value) {\n          messages.push(value[1][0]);\n        })\n        // 表示用の配列にセット\n        setValidationMessages(messages);\n      })\n    }\n  }\n\n  const setImage = (e) => {\n    const name = e.target.name;\n    const files = e.target;\n\n    if (files.files[0] !== undefined) {\n      const file = files.files[0]\n      const type = file.type\n      if (\n          type !== \"image/jpeg\" &&\n          type !== \"image/png\" &&\n          type !== \"image/webp\"\n      ) {\n          alert(\"選択されたファイルはアップロードできません\")\n          return false\n      }\n      setFormData({\n        ...formData,\n        [name]: file\n      });\n      if (type.startsWith(\"image/\")) {\n        setThumbnail(window.URL.createObjectURL(file))\n      }\n    } else {\n      setFormData({\n        ...formData,\n        [name]: ''\n      });\n    }\n  }\n\n  const changeIcon = () => {\n    let icon = document.getElementById('icon');\n    icon.click();\n  }\n\n  return (\n    <GroupDetailWrap className=\"h-screen bg-sub py-16\">\n      <HeaderBackButton />\n      <div className={ errorMessages.length === 0 ? 'hidden' : 'bg-red-100 w-80 mx-auto p-1 mb-2' }>\n        <ul className=\"mx-auto px-3 text-red-600\">\n          {\n          errorMessages.map((item, index) => {\n            return (\n                <li key={ index }>{ item }</li>\n                )\n              })\n          }\n        </ul>\n      </div>\n      <PostItem className=\"psot-item w-80 bg-white px-5 pb-2 pt-6 mb-10 m-auto\">\n        <div className=\"flex mb-5 items-center\">\n          <p className=\"profile-logo\"><img className=\"rounded-full\" src={ thumbnail } alt=\"プロフィール画像\" onClick={ changeIcon } /></p>\n          <input style={{display: 'none'}} name=\"icon\" id=\"icon\" type=\"file\" onChange={setImage} />\n          <InputText type=\"text\" name=\"group_name\" styled={ \"ml-4 w-7/10\" } placeholder={ \"グループ名\" } onChange={ onChangeEvent } />\n        </div>\n        <p className=\"post-list-item\">ゲーム名：\n          <select name=\"game_id\" className=\"w-7/10\" onChange={ onChangeEvent }>\n            <option>ゲームを選択してください</option>\n            {\n              gameNames.map((data, index) => {\n                return (\n                  <option key={ index } value={ data.id }>{ data.game_name }</option>\n                );\n              })\n            }\n          </select>\n        </p>\n        <p className=\"post-list-item\">スタイル：\n          <select name=\"style_id\" className=\"w-7/10\" onChange={ onChangeEvent }>\n            <option>スタイルを選択してください</option>\n            {\n              gameStyles.map((data, index) => {\n                return (\n                  <option key={ index } value={ data.id }>{ data.style_name }</option>\n                );\n              })\n            }\n          </select>\n        </p>\n        <p className=\"post-list-item\">募集人数：\n          <select name=\"recruitment\" className=\"w-7/10\" onChange={ onChangeEvent }>\n            <option>人数を選択してください</option>\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n            <option value=\"4\">4</option>\n            <option value=\"5\">5</option>\n            <option value=\"6\">6</option>\n            <option value=\"7\">7</option>\n            <option value=\"8\">8</option>\n            <option value=\"9\">9</option>\n            <option value=\"10\">10</option>\n            <option value=\"11\">11</option>\n            <option value=\"12\">12</option>\n            <option value=\"13\">13</option>\n            <option value=\"14\">14</option>\n            <option value=\"15\">15</option>\n          </select>\n        </p>\n        <p>グループ詳細</p>\n        <textarea name=\"description\" style={{ overflow:'auto', resize: 'none'}} cols=\"30\" rows=\"13\"　className=\"post-detail\" onChange={ onChangeEvent }></textarea>\n        <PrimaryButton styles={ \"bg-sub py-1 px-7 py-2 text-sm m-auto\" } onClick={ onClickCreateGroupData }>作成する</PrimaryButton>\n      </PostItem>\n      <Footer />\n    </GroupDetailWrap>\n  )\n}\n\nconst GroupDetailWrap = styled.section`\n  \n`\nconst PostItem = styled.div`\n  position: relative;\n  .profile-logo img{\n    width: 65px;\n    height: 65px;\n  }\n  .firend-logo img{\n    width: 40px;\n    height: 40px;\n  }\n  .post-list-item{\n    margin: 0 0 10px 0;\n  }\n  .post-list-item input{\n    margin:0 0 0 10px;\n  }\n  .post-detail{\n    width: 100%;\n    margin: 0 0 18px 0;\n    padding: 0 3px;\n    border:solid 1px #000;\n    overflow: hidden;\n  }\n  .primary-button{\n    color:#fff;\n  }\n`\n\nexport default GroupCreate"]},"metadata":{},"sourceType":"module"}