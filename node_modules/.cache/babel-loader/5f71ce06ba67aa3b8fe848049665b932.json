{"ast":null,"code":"import _taggedTemplateLiteral from \"/usr/src/app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nimport _slicedToArray from \"/usr/src/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/usr/src/app/src/pages/Notification.jsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Footer } from '../components/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Notification = function Notification(props) {\n  _s();\n\n  var loginedUserId = Number(localStorage.getItem('userId'));\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      notifications = _useState2[0],\n      setNotifications = _useState2[1];\n\n  useEffect(function () {\n    var unmounted = false;\n\n    if (!unmounted) {\n      getNotification(loginedUserId);\n      unmounted = true;\n    }\n  }, [loginedUserId]);\n\n  var getNotification = function getNotification(id) {\n    var url = process.env.REACT_APP_BACKEND_PATH;\n    axios.get(url + '/api/notification/' + id).then(function (res) {\n      setNotifications(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(NotificationSection, {\n      className: \"h-screen bg-sub\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-sub pb-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center p-2 mb-16\",\n          children: notifications.map(function (item, index) {\n            return /*#__PURE__*/_jsxDEV(Link, {\n              className: \"inline-block notification-btn text-left w-11/12 py-5 border-t-2 border-white\",\n              to: {\n                pathname: '/notification/detail',\n                state: {\n                  userId: item.request_user_id,\n                  notificationsId: item.id\n                }\n              },\n              children: item.message\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Notification, \"6gMUc0OfbF4zJu51/S5RmKCczuA=\");\n\n_c = Notification;\nvar NotificationSection = styled.section(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  overflow-y: scroll;\\n  .notification-btn:first-child {\\n    border-top: none;\\n  }\\n\"])));\n_c2 = NotificationSection;\nexport default Notification;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Notification\");\n$RefreshReg$(_c2, \"NotificationSection\");","map":{"version":3,"sources":["/usr/src/app/src/pages/Notification.jsx"],"names":["styled","useState","useEffect","axios","Link","Footer","Notification","props","loginedUserId","Number","localStorage","getItem","notifications","setNotifications","unmounted","getNotification","id","url","process","env","REACT_APP_BACKEND_PATH","get","then","res","data","results","catch","error","console","log","map","item","index","pathname","state","userId","request_user_id","notificationsId","message","NotificationSection","section"],"mappings":";;;;;;;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAmC,OAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SACEC,MADF,QAEO,qBAFP;;;;AAIA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAAA;;AAC9B,MAAMC,aAAa,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAA5B;;AACA,kBAA0CV,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOW,aAAP;AAAA,MAAsBC,gBAAtB;;AAEAX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIY,SAAS,GAAG,KAAhB;;AACA,QAAG,CAACA,SAAJ,EAAe;AACbC,MAAAA,eAAe,CAACP,aAAD,CAAf;AACAM,MAAAA,SAAS,GAAG,IAAZ;AACD;AACF,GANQ,EAMP,CAACN,aAAD,CANO,CAAT;;AAQA,MAAMO,eAAe,GAAG,SAAlBA,eAAkB,CAACC,EAAD,EAAQ;AAC9B,QAAIC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAAtB;AAEAjB,IAAAA,KAAK,CAACkB,GAAN,CAAUJ,GAAG,GAAG,oBAAN,GAA6BD,EAAvC,EACCM,IADD,CACM,UAACC,GAAD,EAAS;AACbV,MAAAA,gBAAgB,CAACU,GAAG,CAACC,IAAJ,CAASC,OAAV,CAAhB;AACD,KAHD,EAICC,KAJD,CAIO,UAACC,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAND;AAOD,GAVD;;AAWA,sBACE;AAAA,2BACE,QAAC,mBAAD;AAAqB,MAAA,SAAS,EAAC,iBAA/B;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,sCAAf;AAAA,oBAEEf,aAAa,CAACkB,GAAd,CAAkB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACjC,gCACE,QAAC,IAAD;AAAoB,cAAA,SAAS,EAAC,8EAA9B;AACA,cAAA,EAAE,EAAE;AACFC,gBAAAA,QAAQ,EAAE,sBADR;AAEFC,gBAAAA,KAAK,EAAE;AACLC,kBAAAA,MAAM,EAAGJ,IAAI,CAACK,eADT;AAELC,kBAAAA,eAAe,EAAGN,IAAI,CAACf;AAFlB;AAFL,eADJ;AAAA,wBAQIe,IAAI,CAACO;AART,eAAYN,KAAZ;AAAA;AAAA;AAAA;AAAA,qBADF;AAYD,WAbD;AAFF;AAAA;AAAA;AAAA;AAAA,iBADF,eAoBE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,iBApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AA4BD,CAnDD;;GAAM1B,Y;;KAAAA,Y;AAqDN,IAAMiC,mBAAmB,GAAGvC,MAAM,CAACwC,OAAV,6JAAzB;MAAMD,mB;AAON,eAAejC,YAAf","sourcesContent":["import styled from 'styled-components'\nimport { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport {\n  Footer\n} from '../components/index'\n\nconst Notification = (props) => {\n  const loginedUserId = Number(localStorage.getItem('userId'));\n  const [notifications, setNotifications] = useState([]);\n\n  useEffect(() => {\n    let unmounted = false;\n    if(!unmounted) {\n      getNotification(loginedUserId);\n      unmounted = true;\n    }\n  },[loginedUserId])\n\n  const getNotification = (id) => {\n    let url = process.env.REACT_APP_BACKEND_PATH;\n\n    axios.get(url + '/api/notification/' + id)\n    .then((res) => {\n      setNotifications(res.data.results)\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }\n  return (\n    <>\n      <NotificationSection className=\"h-screen bg-sub\">\n        <div className=\"bg-sub pb-16\">\n          <div className=\"flex flex-col items-center p-2 mb-16\">\n          {\n            notifications.map((item, index) => {\n              return (\n                <Link key={ index } className=\"inline-block notification-btn text-left w-11/12 py-5 border-t-2 border-white\" \n                to={{\n                  pathname: '/notification/detail',\n                  state: { \n                    userId : item.request_user_id,\n                    notificationsId : item.id\n                  }\n                }}>\n                  { item.message }\n                </Link>\n              );\n            })\n          }\n          </div>\n\n          <Footer />\n        </div>\n      </NotificationSection>\n    </>\n  )\n}\n\nconst NotificationSection = styled.section`\n  overflow-y: scroll;\n  .notification-btn:first-child {\n    border-top: none;\n  }\n`\n\nexport default Notification\n\n\n\n"]},"metadata":{},"sourceType":"module"}