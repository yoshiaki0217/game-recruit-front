{"ast":null,"code":"import _taggedTemplateLiteral from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/usr/src/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/usr/src/app/src/pages/MyPage.jsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2;\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { PrimaryButton, Footer } from '../components/index'; // import Left from '../images/left-arrow.svg'\n\nimport DefaultIcon from '../images/default-icon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar MyPage = function MyPage(props) {\n  _s();\n\n  var loginedUserId = Number(localStorage.getItem('userId'));\n  var userId = Number(props.match.params.id);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userDetail = _useState2[0],\n      setUserDetail = _useState2[1];\n\n  useEffect(function () {\n    var unmounted = false;\n\n    if (!unmounted) {\n      getUserDetail(userId);\n      unmounted = true;\n    }\n  }, [userId]); // 友だちのデータ取得\n\n  var getUserDetail = function getUserDetail(userId) {\n    var url = process.env.REACT_APP_BACKEND_PATH;\n    axios.get(url + '/api/mypage/' + userId).then(function (res) {\n      setUserDetail(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MyPageSection, {\n      className: \"h-screen bg-sub\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 mb-20\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 flex justify-center items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"rounded-full m-3\",\n              src: userDetail.icon === null ? DefaultIcon : userDetail.icon,\n              width: \"150\",\n              height: \"150\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center text-xl\",\n              children: userDetail.user_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(UserDetailItem, {\n          className: \"psot-item w-80 bg-white p-4 my-5 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-list-item truncate\",\n            children: \"\\u30B2\\u30FC\\u30E0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-list-item mx-3\",\n            children: userDetail.game\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u81EA\\u5DF1\\u7D39\\u4ECB:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-auto mx-3\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"break-words\",\n              children: userDetail.introduction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: loginedUserId === userId ? 'flex justify-center break-words' : 'hidden',\n            children: /*#__PURE__*/_jsxDEV(PrimaryButton, {\n              styles: \"bg-sub text-sm p-2 m-2 w-4.5/10\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"inline-block\",\n                to: {\n                  pathname: '/mypage/info/edit',\n                  state: {\n                    userId: userDetail.id\n                  }\n                },\n                children: \"\\u7DE8\\u96C6\\u3059\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(MyPage, \"wrlp6nJnf5xnJdEkmVZYWvXRrI4=\");\n\n_c = MyPage;\nvar MyPageSection = styled.section(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  overflow-y: scroll;\\n\"])));\n_c2 = MyPageSection;\nvar UserDetailItem = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  .profile-logo img{\\n    width: 65px;\\n    height: 65px;\\n  }\\n\\n  .primary-button{\\n    color:#fff;\\n  }\\n\"])));\n_c3 = UserDetailItem;\nexport default MyPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MyPage\");\n$RefreshReg$(_c2, \"MyPageSection\");\n$RefreshReg$(_c3, \"UserDetailItem\");","map":{"version":3,"sources":["/usr/src/app/src/pages/MyPage.jsx"],"names":["useState","useEffect","axios","Link","styled","PrimaryButton","Footer","DefaultIcon","MyPage","props","loginedUserId","Number","localStorage","getItem","userId","match","params","id","userDetail","setUserDetail","unmounted","getUserDetail","url","process","env","REACT_APP_BACKEND_PATH","get","then","res","data","results","catch","error","console","log","icon","user_name","game","introduction","pathname","state","MyPageSection","section","UserDetailItem","div"],"mappings":"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","sourcesContent":["import { useState, useEffect} from 'react';\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport {\n  PrimaryButton,\n  Footer,\n} from '../components/index'\n// import Left from '../images/left-arrow.svg'\nimport DefaultIcon from '../images/default-icon.png'\n\nconst MyPage = (props) => {\n  const loginedUserId = Number(localStorage.getItem('userId'));\n  const userId = Number(props.match.params.id);\n  const [userDetail, setUserDetail] = useState([]);\n\n  useEffect(() => {\n    let unmounted = false;\n    if(!unmounted) {\n      getUserDetail(userId);\n      unmounted = true\n    }\n  },[userId])\n\n  // 友だちのデータ取得\n  const getUserDetail = (userId) => {\n    let url = process.env.REACT_APP_BACKEND_PATH;\n\n    axios.get(url + '/api/mypage/' + userId)\n    .then((res) => {\n      setUserDetail(res.data.results);\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }\n  return (\n    <>\n      <MyPageSection className=\"h-screen bg-sub\">\n        <div className=\"mt-3 mb-20\">\n          <div className=\"px-4 flex justify-center items-center\">\n            <div>\n              <img className=\"rounded-full m-3\" src={ userDetail.icon === null ? DefaultIcon : userDetail.icon } width=\"150\" height=\"150\" alt=\"\" />\n              <h2 className=\"text-center text-xl\">{ userDetail.user_name }</h2>\n            </div>\n          </div>\n\n          <UserDetailItem className=\"psot-item w-80 bg-white p-4 my-5 mx-auto\">\n            <p className=\"post-list-item truncate\">ゲーム:</p>\n            <p className=\"post-list-item mx-3\">{ userDetail.game }</p>\n            <p>自己紹介:</p>\n            <div className=\"h-auto mx-3\">\n              <p className=\"break-words\">{ userDetail.introduction }</p>\n            </div>\n            <div className={loginedUserId === userId ? 'flex justify-center break-words' : 'hidden'}>\n              <PrimaryButton styles={ \"bg-sub text-sm p-2 m-2 w-4.5/10\" }>\n                <Link className=\"inline-block\" to={{\n                  pathname: '/mypage/info/edit',\n                  state: { \n                    userId: userDetail.id\n                  }\n                }}>\n                  編集する\n                </Link>\n              </PrimaryButton>\n            </div>\n          </UserDetailItem>\n        </div>\n\n        <Footer />\n      </MyPageSection>\n    </>\n  )\n}\n\nconst MyPageSection = styled.section`\n  overflow-y: scroll;\n`\n\nconst UserDetailItem = styled.div`\n  position: relative;\n  .profile-logo img{\n    width: 65px;\n    height: 65px;\n  }\n\n  .primary-button{\n    color:#fff;\n  }\n`\n\nexport default MyPage\n\n"]},"metadata":{},"sourceType":"module"}